<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
		<title>Making A Kit</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="ww-styles.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script
  src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"
  integrity="sha256-VazP97ZCwtekAsvgPBSUwPFKdrwD3unUfSGVYrahUqU="
  crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" charset="utf-8"></script>

  </head>

  <body class="ww-quiz">

		<nav class="navbar navbar-default">
			<div class="container-fluid">

				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="index.html"><img src="img/winterwarriors.jpg"></a>
				</div>


				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

					<ul class="nav navbar-nav">

						<li class="dropdown">
							<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Learning <span class="caret"></span></a>
							<ul class="dropdown-menu">
								<li><a href="learning.html#Video">Video</a></li>
								<li><a href="learning.html#Checklist">Checklist</a></li>
							</ul>
						</li>

						<li><a href="quiz.html">Make A Kit</a></li>

            <li class="dropdown">
  						<a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Resources<span class="caret"></span></a>
  						<ul class="dropdown-menu">
                <li><a href="resources.html#Video">Video</a></li>
                <li><a href="blizzardchecklist.html">Checklist</a></li>
              </ul>
            </li>

					</ul><!-- /.nav navbar-nav -->

				</div><!-- /.navbar-collapse -->
			</div>
		</nav>
    <div class="contentFrame container-fluid">

      <div class="row">
        <main>
  <div class="page-header">
    <h1>Make a Kit <span class="sub-head">choose 4 of the items below to put in your car survival kit. Drag them into the box and click the button to see if you have chosen correctly.</span></h1>
    <span class="btn btn-lrg ww-btn" id="gameMessage"><span></span><button onclick="location.reload();">Try Again</button></span>
    <a class="btn btn-primary btn-lg" href="learning.html" role="button">Learning</a>
  </div>
  <div class="droppable"><img src="img/carstorage.jpg" /></div>

  <div class="draggable"><img src="img/carshovel.gif"></div>
  <div class="draggable"><img src="img/carfood.gif" ></div>
  <div class="draggable"><img src="img/carumbrella.gif" ></div>
  <div class="draggable"><img src="img/carfirstaid.gif" ></div>
  <div class="draggable"><img src="img/cargloves.gif" ></div>

  <script>
    $(document).ready(function(){

      var left = $(".droppable img").position().left,
          top = $(".droppable img").position().top,
          right = $(".droppable img").position().left + $(".droppable img").width(),
          bottom = $(".droppable img").position().top + $(".droppable img").height(),
          items = [],
          wrongItem = document.querySelector(".draggable img[src*='carumbrella']").src;

      $(".draggable").draggable();
      $(".droppable").droppable({
        drop: function(event, ui){
          var dragged = ui.draggable[0];
          switch(items.length){
            case 0:
              $(dragged).css({
                position: "absolute",
                top: top,
                left: left
              });
              items.push($(dragged).find("img")[0].src);
              break;
            case 1:
              $(dragged).css({
                position: "absolute",
                top: top,
                left: right - $(dragged).width()
              });
              items.push($(dragged).find("img")[0].src);
              break;
            case 2:
              $(dragged).css({
                position: "absolute",
                top: bottom - $(dragged).height(),
                left: left
              });
              items.push($(dragged).find("img")[0].src);
              break;
            case 3:
              $(dragged).css({
                position: "absolute",
                top: bottom - $(dragged).height(),
                left: right - $(dragged).width()
              });
              items.push($(dragged).find("img")[0].src);
          
              if (items.indexOf(wrongItem) > -1){
                  //fail
                  $("#gameMessage span").text("Oh No! You will not survive the winter with this kit.  Try again or visit Learning to learn more about car kits.");
              } else {
                  //win
                  $("#gameMessage span").text("You are a Winter Warrior!  You are on your way to making a car kit to survive the winter weather!   Visit Learning to learn more about car kits.");
              }
          }
        }
      });

    });
  </script>
</div>
</div>
</main>
</body>
</html>
